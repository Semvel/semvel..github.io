"use strict";document.addEventListener("DOMContentLoaded",(function(){new Swiper(".сharacters-slider",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerView:1,slidesPerGroup:1,spaceBetween:40,loop:!0}),new Swiper(".gallery-slider",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},slidesPerView:1,slidesPerGroup:1,spaceBetween:40,loop:!0,breakpoints:{320:{navigation:!1,pagination:!1,slidesPerView:.3,freeMode:!0,spaceBetween:0},480:{navigation:!1,pagination:!1,slidesPerView:.3,freeMode:!0,spaceBetween:-90},767:{navigation:!1,pagination:!1,slidesPerView:.8,freeMode:!0,spaceBetween:0},999:{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},slidesPerView:1,slidesPerGroup:1,spaceBetween:40,loop:!0}}}),new Swiper(".reviews-slider",{breakpoints:{320:{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},direction:"vertical",slidesPerView:2,slidesPerGroup:2,spaceBetween:30,loop:!0},480:{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},direction:"vertical",slidesPerView:3,slidesPerGroup:3,spaceBetween:15,loop:!0}}});const e=document.querySelectorAll(".popup-button"),t=document.querySelector("body"),n=document.querySelector(".popup-application__close"),o=document.querySelector(".popup-application");if(e.length>0)for(let n=0;n<e.length;n++){const i=e[n];i.addEventListener("click",(function(e){"choose"==i.dataset.link?a():"reserve"==i.dataset.link?(1==i.dataset.package?r.value="Пакет Минимум":2==i.dataset.package?r.value="Пакет Стандарт":3==i.dataset.package&&(r.value="Пакет Максимум"),l()):"collect"==i.dataset.link&&c(),o.classList.add("open"),t.style.overflowY="hidden"}))}n.addEventListener("click",(function(e){o.classList.remove("open"),setTimeout(p,500),r.value=""}));const i=document.querySelector(".popup-application__title"),s=document.querySelector(".popup-application__text"),r=document.getElementById("additional");function a(){i.innerHTML="Подобрать программу праздника",s.innerHTML="Оставьте номер телефона, и мы подоберём вам программу по вашим желаниям",r.value="подобрать програму правздника+услуги фотографа в подарок"}function l(){i.innerHTML="Осталось совсем немного :)",s.innerHTML="Оставьте номер телефона, чтобы мы забронировали нужную для вас дату и рассказали более подробно о программе"}function c(){i.innerHTML="Собери свой праздник сам",s.innerHTML="Оставьте номер телефона, чтобы мы помогли вам с выбором шоу-программ и конкурсами",r.value="Собери праздник сам"}function p(){i.innerHTML="",s.innerHTML="",t.style.overflowY="",d.classList.remove("open")}const d=document.querySelector(".thanks"),u=document.getElementById("form");function v(e){e.classList.add("_error")}function w(e){e.classList.remove("_error")}u.addEventListener("submit",(async function(e){e.preventDefault();let t=function(e){let t=0,n=document.querySelectorAll("#form ._req");for(let e=0;e<n.length;e++){const o=n[e];w(o),""===o.value&&(v(o),t++)}return t}(),n=new FormData(u);if(console.log(n),0===t){let e=await fetch("../telegram.php",{method:"POST",body:n});if(e.ok){let t=await e.json();u.reset(),"Успешно"===t.message&&d.classList.add("open")}else alert("ошибка")}}));const m=document.getElementById("form-2");m.addEventListener("submit",(async function(e){e.preventDefault();let n=function(e){let t=0,n=document.querySelectorAll("#form-2 ._req");for(let e=0;e<n.length;e++){const o=n[e];w(o),""===o.value&&(v(o),t++)}return t}(),i=new FormData(m);if(console.log(i),0===n){let e=await fetch("../telegram.php",{method:"POST",body:i});if(e.ok){let n=await e.json();m.reset(),"Успешно"===n.message&&(o.classList.add("open"),t.style.overflowY="hidden",d.classList.add("open"))}else alert("ошибка")}}));const f=document.querySelectorAll('a[href*="#"]');for(let e of f)e.addEventListener("click",(function(t){t.preventDefault();const n=e.getAttribute("href").substr(1);document.getElementById(n).scrollIntoView({behavior:"smooth",block:"start"})}));const g=document.querySelector(".button-up");window.addEventListener("scroll",(function(){pageYOffset>299?g.classList.add("vis"):pageYOffset<299&&g.classList.remove("vis")}));const h=document.querySelector(".all-сharacters"),L=document.querySelector(".more-сharacters"),y=document.querySelector(".hidden-сharacters");L.addEventListener("click",(function(e){h.classList.contains("show")?(h.classList.remove("show"),h.style.maxHeight="0px",L.textContent="смотреть всех персонажей"):(h.classList.add("show"),h.style.maxHeight=h.scrollHeight+"px",L.textContent="cкрыть персонажей")})),y.addEventListener("click",(function(e){h.classList.contains("show")&&(h.classList.remove("show"),h.style.maxHeight="0px",L.textContent="смотреть всех персонажей",L.scrollIntoView({block:"center",behavior:"smooth"}))}))}));